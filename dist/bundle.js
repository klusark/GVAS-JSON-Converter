(()=>{var t={21:(t,e,r)=>{const n=r(674);class s{static padding=new Uint8Array([0,0,0,0]);type="ArrayProperty";constructor(t,e){this.name=t;const r=e.readUInt32();switch(e.skipBytes(4),this.subtype=e.readString(),e.skipBytes(1),this.subtype){case"StructProperty":const t=e.readUInt32();if(e.readString()!==this.name)throw new Error;if(e.readString()!==this.subtype)throw new Error;if(e.readUInt32(),e.skipBytes(4),this.genericType=e.readString(),this.guid=e.readBytes(16),e.skipBytes(1),this.value=[],"Guid"===this.genericType)for(let r=0;r<t;r++)this.value.push(e.readBytes(16));else for(let r=0;r<t;r++){const t=[];let r=null;for(;!(r instanceof n);)r=e.readProperty(),t.push(r);this.value.push(t)}break;case"NameProperty":const s=e.readUInt32();this.value=[];for(let t=0;t<s;t++)this.value.push(e.readString());break;default:this.value=e.readBytes(r)}}toBytes(){const{writeBytes:t,writeString:e,writeUint32:n}=r(780),{assignPrototype:i}=r(431),a=this.value.length;let o,h=new Uint8Array(0);switch(this.subtype){case"StructProperty":if("Guid"===this.genericType)for(let e=0;e<a;e++)h=new Uint8Array([...h,...t(this.value[e])]);else for(let t=0;t<a;t++)if(Array.isArray(this.value[t]))for(let e=0;e<this.value[t].length;e++)h=new Uint8Array([...h,...i(this.value[t][e]).toBytes()]);else h=new Uint8Array([...h,...i(this.value[t]).toBytes()]);return o=8+this.name.length+1+4+this.subtype.length+1+4+s.padding.length+4+this.genericType.length+1+16+1+h.length,new Uint8Array([...e(this.name),...e(this.type),...n(o),...s.padding,...e(this.subtype),0,...n(a),...e(this.name),...e(this.subtype),...n(h.length),...s.padding,...e(this.genericType),...t(this.guid+"00"),...h]);case"NameProperty":o=4;for(let t=0;t<a;t++)h=new Uint8Array([...h,...e(this.value[t])]),o+=4+this.value[t].length+1;return new Uint8Array([...e(this.name),...e(this.type),...n(o),...s.padding,...e(this.subtype),0,...n(a),...h]);default:return o=this.value.length/2,new Uint8Array([...e(this.name),...e(this.type),...n(o),...s.padding,...e(this.subtype),0,...t(this.value)])}}}t.exports=s},56:(t,e,r)=>{class n{static padding=new Uint8Array([0,0,0,0,0]);type="MulticastInlineDelegateProperty";constructor(t,e){this.name=t,e.readUInt32(),e.skipBytes(5);const r=e.readUInt32(),n=new Map;for(let t=0;t<r;t++){const t=e.readString(),r=e.readString();n.set(t,r)}this.elements=Array.from(n.entries())}toBytes(){const{writeString:t,writeUint32:e}=r(780);let s=4;for(const[t,e]of this.elements)s+=4+t.length+1,s+=4+e.length+1;let i=new Uint8Array(0);for(const[e,r]of this.elements)i=new Uint8Array([...i,...t(e),...t(r)]);return new Uint8Array([...t(this.name),...t(this.type),...e(s),...n.padding,...e(this.elements.length),...i])}}t.exports=n},63:(t,e,r)=>{t.exports=class{type="StrProperty";constructor(t,e){this.name=t,e.skipBytes(9),this.value=e.readString()}toBytes(){const{writeString:t,writeUint32:e}=r(780),n=t(this.name),s=t(this.type),i=t(this.value),a=e(i.length),o=new Uint8Array(4),h=new Uint8Array([0]),y=n.length+s.length+a.length+o.length+h.length+i.length,l=new Uint8Array(y);let p=0;return l.set(n,p),p+=n.length,l.set(s,p),p+=s.length,l.set(a,p),p+=a.length,l.set(o,p),p+=o.length,l.set(h,p),p+=h.length,l.set(i,p),l}}},75:(t,e,r)=>{t.exports=class{type="NameProperty";constructor(t,e){this.name=t,e.skipBytes(9),this.value=e.readString()}toBytes(){const{writeString:t,writeUint32:e}=r(780),n=t(this.name),s=t(this.type),i=t(this.value),a=e(i.length),o=new Uint8Array(4),h=new Uint8Array([0]),y=n.length+s.length+a.length+o.length+h.length+i.length,l=new Uint8Array(y);let p=0;return l.set(n,p),p+=n.length,l.set(s,p),p+=s.length,l.set(a,p),p+=a.length,l.set(o,p),p+=o.length,l.set(h,p),p+=h.length,l.set(i,p),l}}},85:(t,e,r)=>{class n{static padding=new Uint8Array([4,0,0,0,0,0,0,0,0]);type="IntProperty";constructor(t,e){this.name=t,e.skipBytes(n.padding.length),this.value=e.readInt32()}toBytes(){const{writeString:t,writeInt32:e}=r(780),s=t(this.name),i=t(this.type),a=e(this.value),o=n.padding,h=s.length+i.length+o.length+a.length,y=new Uint8Array(h);let l=0;return y.set(s,l),l+=s.length,y.set(i,l),l+=i.length,y.set(o,l),l+=o.length,y.set(a,l),y}}t.exports=n},113:(t,e,r)=>{class n{static padding=new Uint8Array([0,0,0,0]);type="StructProperty";constructor(t,e){this.name=t;const r=e.readUInt32();e.skipBytes(4),this.subtype=e.readString(),this.guid=e.readBytes(16),e.skipBytes(1);const n=e.offset+r;if("Guid"===this.subtype)return this.value=e.readBytes(16),this;if("DateTime"===this.subtype)return this.value=e.readInt64(),this;for(this.value=[];e.offset<n;)this.value.push(e.readProperty())}toBytes(){const{writeString:t,writeUint32:e,writeInt64:s,writeBytes:i}=r(780),{assignPrototype:a}=r(431);if("Guid"===this.subtype)return new Uint8Array([...t(this.name),...t(this.type),...e(16),...n.padding,...t("Guid"),...i(this.guid+"00"),...i(this.value)]);if("DateTime"===this.subtype)return new Uint8Array([...t(this.name),...t(this.type),...e(8),...n.padding,...t("DateTime"),...i(this.guid+"00"),...s(this.value)]);let o=new Uint8Array(0);for(let t=0;t<this.value.length;t++)if(Array.isArray(this.value[t]))for(let e=0;e<this.value[t].length;e++)o=new Uint8Array([...o,...a(this.value[t][e]).toBytes()]);else o=new Uint8Array([...o,...a(this.value[t]).toBytes()]);return new Uint8Array([...t(this.name),...t(this.type),...e(o.length),...n.padding,...t(this.subtype),...i(this.guid+"00"),...o])}}t.exports=n},165:(t,e,r)=>{class n{static GVAS=new Uint8Array([71,86,65,83]);type="HeaderProperty";constructor(t){t.skipBytes(n.GVAS.length),this.saveGameVersion=t.readInt32(),this.packageVersion=t.readInt32(),this.engineVersion=t.readInt16()+"."+t.readInt16()+"."+t.readInt16(),this.engineBuild=t.readUInt32(),this.engineBranch=t.readString(),this.customVersionFormat=t.readInt32();const e=t.readInt32(),r=new Map;for(let n=0;n<e;n++)r.set(t.readBytes(16),t.readInt32());this.customVersions=Array.from(r.entries()),this.saveGameClassName=t.readString()}toBytes(){const{writeInt32:t,writeInt16:e,writeUint32:s,writeString:i,writeBytes:a}=r(780);let o=new Uint8Array([...n.GVAS,...t(this.saveGameVersion),...t(this.packageVersion),...e(this.engineVersion.split(".")[0]),...e(this.engineVersion.split(".")[1]),...e(this.engineVersion.split(".")[2]),...s(this.engineBuild),...i(this.engineBranch),...t(this.customVersionFormat),...t(this.customVersions.length)]);for(let e=0;e<this.customVersions.length;e++)o=new Uint8Array([...o,...a(this.customVersions[e][0]),...t(this.customVersions[e][1])]);return o=new Uint8Array([...o,...i(this.saveGameClassName)]),o}}t.exports=n},211:(t,e,r)=>{class n{static padding=new Uint8Array([8,0,0,0,0,0,0,0,0]);type="Int64Property";constructor(t,e){this.name=t,e.skipBytes(n.padding.length),this.value=e.readInt64()}toBytes(){const{writeString:t,writeInt64:e}=r(780),s=t(this.name),i=t(this.type),a=n.padding,o=e(this.value),h=s.length+i.length+a.length+o.length,y=new Uint8Array(h);let l=0;return y.set(s,l),l+=s.length,y.set(i,l),l+=i.length,y.set(a,l),l+=a.length,y.set(o,l),y}}t.exports=n},258:(t,e,r)=>{const{writeString:n,writeBytes:s,writeUint32:i}=r(780);t.exports=class{type="ByteProperty";constructor(t,e){this.name=t;const r=e.readUInt32();e.skipBytes(4),this.subtype=e.readString(),e.skipBytes(1),this.value=e.readBytes(r)}toBytes(){const t=n(this.name),e=n(this.type),r=i(this.value.length/2),a=n(this.subtype),o=s(this.value),h=t.length+e.length+r.length+4+a.length+1+o.length,y=new Uint8Array(h);let l=0;return y.set(t,l),l+=t.length,y.set(e,l),l+=e.length,y.set(r,l),l+=r.length,y.set([0,0,0,0],l),l+=4,y.set(a,l),l+=a.length,y[l++]=0,y.set(o,l),y}}},345:(t,e,r)=>{const n=r(165),s=r(674),i=r(696),a=r(85),o=r(726),h=r(211),y=r(63),l=r(75),p=r(637),u=r(434),c=r(113),g=r(21),d=r(56),w=r(790),f=r(492),U=r(579),m=r(258),B=r(411);t.exports={HeaderProperty:n,NoneProperty:s,BoolProperty:i,IntProperty:a,UInt32Property:o,Int64Property:h,StrProperty:y,NameProperty:l,EnumProperty:p,FloatProperty:u,StructProperty:c,ArrayProperty:g,MulticastInlineDelegateProperty:d,MapProperty:w,SetProperty:f,ObjectProperty:U,ByteProperty:m,FileEndProperty:B}},411:(t,e,r)=>{const n=r(674);class s{static bytes=new Uint8Array([...n.bytes,0,0,0,0]);type="FileEndProperty";toBytes(){return s.bytes}}t.exports=s},431:(t,e,r)=>{const n=r(949),s=r(345);function i(t){const e=s[t.type];if(!e)throw new Error("Unknown property type: "+t.type);const r=Object.create(e.prototype);return Object.assign(r,t),r}BigInt.prototype.toJSON=function(){return this.toString()},t.exports={convertSavToJson:function(t){const e=new n(t).readWholeBuffer();return JSON.stringify(e,null,2)},convertJsonToSav:function(t){const e=JSON.parse(t).map((t=>i(t).toBytes())),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);let s=0;for(const t of e)n.set(t,s),s+=t.length;return n},assignPrototype:i}},434:(t,e,r)=>{class n{static padding=new Uint8Array([4,0,0,0,0,0,0,0,0]);type="FloatProperty";constructor(t,e){this.name=t,e.skipBytes(n.padding.length),this.value=e.readFloat32()}toBytes(){const{writeString:t,writeFloat32:e}=r(780),s=t(this.name),i=t(this.type),a=n.padding,o=e(this.value),h=s.length+i.length+a.length+o.length,y=new Uint8Array(h);let l=0;return y.set(s,l),l+=s.length,y.set(i,l),l+=i.length,y.set(a,l),l+=a.length,y.set(o,l),y}}t.exports=n},492:(t,e,r)=>{class n{static padding=new Uint8Array([0,0,0,0]);type="SetProperty";constructor(t,e){this.name=t;const r=e.readUInt32();if(e.skipBytes(4),this.subtype=e.readString(),e.skipBytes(1),"StructProperty"===this.subtype){e.skipBytes(4);const t=e.readUInt32();this.value=[];for(let r=0;r<t;r++)this.value.push(e.readBytes(16));return this}this.value=e.readBytes(r)}toBytes(){const{writeBytes:t,writeString:e,writeUint32:s}=r(780);if("StructProperty"===this.subtype){const r=this.value.length;let i=new Uint8Array(0);for(let e=0;e<r;e++)i=new Uint8Array([...i,...t(this.value[e])]);return new Uint8Array([...e(this.name),...e(this.type),...s(8+i.length),...n.padding,...e(this.subtype),0,...n.padding,...s(r),...i])}return new Uint8Array([...e(this.name),...e(this.type),...s(this.value.length/2),...n.padding,...e(this.subtype),0,...t(this.value)])}}t.exports=n},579:(t,e,r)=>{class n{static padding=new Uint8Array([0,0,0,0,0]);type="ObjectProperty";constructor(t,e){this.name=t,e.readUInt32(),e.skipBytes(5),this.value=e.readString()}toBytes(){const{writeString:t,writeUint32:e}=r(780),s=t(this.name),i=t(this.type),a=e(4+this.value.length+1),o=n.padding,h=t(this.value),y=s.length+i.length+a.length+o.length+h.length,l=new Uint8Array(y);let p=0;return l.set(s,p),p+=s.length,l.set(i,p),p+=i.length,l.set(a,p),p+=a.length,l.set(o,p),p+=o.length,l.set(h,p),l}}t.exports=n},637:(t,e,r)=>{class n{static padding=new Uint8Array([0,0,0,0]);type="EnumProperty";constructor(t,e){this.name=t,this.type="EnumProperty",e.readUInt32(),e.skipBytes(n.padding.length),this.enum=e.readString(),e.skipBytes(1),this.value=e.readString()}toBytes(){const{writeString:t,writeUint32:e}=r(780),s=t(this.name),i=t(this.type),a=e(4+this.value.length+1),o=t(this.enum),h=t(this.value),y=s.length+i.length+a.length+n.padding.length+o.length+1+h.length,l=new Uint8Array(y);let p=0;return l.set(s,p),p+=s.length,l.set(i,p),p+=i.length,l.set(a,p),p+=a.length,l.set(n.padding,p),p+=n.padding.length,l.set(o,p),p+=o.length,l[p++]=0,l.set(h,p),l}}t.exports=n},674:t=>{class e{static bytes=new Uint8Array([5,0,0,0,78,111,110,101,0]);type="NoneProperty";toBytes(){return e.bytes}}t.exports=e},696:(t,e,r)=>{class n{static padding=new Uint8Array([0,0,0,0,0,0,0,0]);type="BoolProperty";constructor(t,e){this.name=t,e.skipBytes(n.padding.length),this.value=e.readBoolean(),e.skipBytes(1)}toBytes(){const{writeString:t}=r(780),e=t(this.name),s=t(this.type),i=n.padding,a=this.value?1:0,o=e.length+s.length+i.length+2,h=new Uint8Array(o);let y=0;return h.set(e,y),y+=e.length,h.set(s,y),y+=s.length,h.set(i,y),y+=i.length,h[y++]=a,h[y++]=0,h}}t.exports=n},726:(t,e,r)=>{class n{static padding=new Uint8Array([4,0,0,0,0,0,0,0,0]);type="UInt32Property";constructor(t,e){this.name=t,e.skipBytes(n.padding.length),this.value=e.readUInt32()}toBytes(){const{writeString:t,writeUint32:e}=r(780),s=t(this.name),i=t(this.type),a=n.padding,o=e(this.value),h=s.length+i.length+a.length+o.length,y=new Uint8Array(h);let l=0;return y.set(s,l),l+=s.length,y.set(i,l),l+=i.length,y.set(a,l),l+=a.length,y.set(o,l),y}}t.exports=n},780:t=>{function e(t){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t,!0),e}t.exports={writeString:function(t){if(""===t){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,0,!0),t}const r=e(t.length+1),n=(new TextEncoder).encode(t);return new Uint8Array([...r,...n,0])},writeInt16:function(t){const e=new Uint8Array(2);return new DataView(e.buffer).setInt16(0,t,!0),e},writeInt32:function(t){const e=new Uint8Array(4);return new DataView(e.buffer).setInt32(0,t,!0),e},writeUint32:e,writeInt64:function(t){const e=new Uint8Array(8);return new DataView(e.buffer).setBigInt64(0,t,!0),e},writeFloat32:function(t){const e=new Uint8Array(4);return new DataView(e.buffer).setFloat32(0,t,!0),e},writeBytes:function(t){return Uint8Array.from(t.match(/../g).map((t=>parseInt(t,16))))}}},790:(t,e,r)=>{const n=r(674);class s{static padding=new Uint8Array([0,0,0,0]);type="MapProperty";constructor(t,e){this.name=t,e.readUInt32(),e.skipBytes(4),this.keyType=e.readString(),this.valueType=e.readString(),e.skipBytes(1);const r=new Map;e.skipBytes(4);const s=e.readUInt32();for(let t=0;t<s;t++){let t=null,s=null;switch(this.keyType){case"StructProperty":t=e.readBytes(16);break;case"IntProperty":t=e.readInt32();break;case"StrProperty":t=e.readString();break;default:throw new Error("Key Type not implemented: "+this.keyType)}switch(this.valueType){case"StructProperty":s=[];let t=null;for(;!(t instanceof n);)t=e.readProperty(),s.push(t);break;case"IntProperty":s=e.readInt32();break;case"FloatProperty":s=e.readFloat32();break;case"BoolProperty":s=e.readBoolean();break;case"StrProperty":s=e.readString();break;default:throw new Error("Value Type not implemented: "+this.valueType)}r.set(t,s)}this.value=Array.from(r.entries())}toBytes(){const{writeBytes:t,writeInt32:e,writeFloat32:n,writeString:i,writeUint32:a}=r(780),{assignPrototype:o}=r(431);let h=new Uint8Array(0);const y=new Map(this.value);for(let[r,s]of y){switch(this.keyType){case"StructProperty":h=new Uint8Array([...h,...t(r)]);break;case"IntProperty":h=new Uint8Array([...h,...e(r)]);break;case"StrProperty":h=new Uint8Array([...h,...i(r)]);break;default:throw new Error("Key Type not implemented: "+this.keyType)}switch(this.valueType){case"StructProperty":for(let t=0;t<s.length;t++)h=new Uint8Array([...h,...o(s[t]).toBytes()]);break;case"IntProperty":h=new Uint8Array([...h,...e(s)]);break;case"FloatProperty":h=new Uint8Array([...h,...n(s)]);break;case"StrProperty":h=new Uint8Array([...h,...i(s)]);break;case"BoolProperty":h=!0===s?new Uint8Array([...h,1]):new Uint8Array([...h,0]);break;default:throw new Error("Value Type not implemented: "+this.valueType)}}return new Uint8Array([...i(this.name),...i(this.type),...a(8+h.length),...s.padding,...i(this.keyType),...i(this.valueType),...s.padding,0,...a(y.size),...h])}}t.exports=s},949:(t,e,r)=>{const{HeaderProperty:n,NoneProperty:s,BoolProperty:i,IntProperty:a,UInt32Property:o,Int64Property:h,StrProperty:y,EnumProperty:l,FloatProperty:p,StructProperty:u,ArrayProperty:c,MulticastInlineDelegateProperty:g,MapProperty:d,SetProperty:w,ObjectProperty:f,ByteProperty:U,FileEndProperty:m,NameProperty:B}=r(345);t.exports=class{constructor(t){this.offset=0,this.fileArrayBuffer=t,this.fileSize=t.byteLength,this.dataView=new DataView(t)}readWholeBuffer(){const t=[],e=this.readHeader();for(t.push(e);!this.hasFinished();){const e=this.readProperty();t.push(e)}return t}hasFinished(){return this.offset===this.fileSize}readHeader(){return new n(this)}readProperty(){if(this.offset+m.bytes.length===this.fileSize&&new Uint8Array(this.fileArrayBuffer.slice(this.offset,this.offset+m.bytes.length)).every(((t,e)=>t===m.bytes[e])))return this.offset+=m.bytes.length,new m;const t=this.readString();if("None"===t)return new s;const e=this.readString();switch(e){case"BoolProperty":return new i(t,this);case"IntProperty":return new a(t,this);case"UInt32Property":return new o(t,this);case"Int64Property":return new h(t,this);case"StrProperty":return new y(t,this);case"NameProperty":return new B(t,this);case"EnumProperty":return new l(t,this);case"FloatProperty":return new p(t,this);case"StructProperty":return new u(t,this);case"ArrayProperty":return new c(t,this);case"MulticastInlineDelegateProperty":return new g(t,this);case"MapProperty":return new d(t,this);case"SetProperty":return new w(t,this);case"ObjectProperty":return new f(t,this);case"ByteProperty":return new U(t,this);default:throw new Error("Unknown property type: "+e)}}readString(){const t=this.dataView.getUint32(this.offset,!0);this.offset+=4;const e=(new TextDecoder).decode(this.fileArrayBuffer.slice(this.offset,this.offset+t-1));return this.offset+=t,e}readBoolean(){const t=Boolean(this.dataView.getUint8(this.offset));return this.offset+=1,t}readFloat32(){const t=this.dataView.getFloat32(this.offset,!0);return this.offset+=4,t}readInt16(){const t=Number(this.dataView.getInt16(this.offset,!0));return this.offset+=2,t}readInt32(){const t=Number(this.dataView.getInt32(this.offset,!0));return this.offset+=4,t}readUInt32(){const t=Number(this.dataView.getUint32(this.offset,!0));return this.offset+=4,t}readInt64(){const t=this.dataView.getBigInt64(this.offset,!0);return this.offset+=8,t}readBytes(t){const e=(r=this.fileArrayBuffer.slice(this.offset,this.offset+t),[...new Uint8Array(r)].reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),""));var r;return this.offset+=t,e}skipBytes(t){this.offset+=t}}}},e={};const{convertJsonToSav:r,convertSavToJson:n}=function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}(431);document.getElementById("sav-input").addEventListener("change",(function(){const t=new FileReader;t.fileName=this.files[0].name,t.onload=function(e){!function(t,e){const r=document.createElement("a");r.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.click()}(t.fileName+".json",n(e.target.result))},t.readAsArrayBuffer(this.files[0])})),document.getElementById("json-input").addEventListener("change",(function(){const t=new FileReader;t.fileName=this.files[0].name,t.onload=function(e){!function(t,e){const r=new Blob([e],{type:"octet/stream"}),n=document.createElement("a");n.setAttribute("href",window.URL.createObjectURL(r)),n.setAttribute("download",t),n.click()}(t.fileName+".sav",r(e.target.result))},t.readAsText(this.files[0])}))})();